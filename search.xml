<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Windows Server 2022配置Web服务器(IIS+php5.6+MySQL)</title>
      <link href="/undefined/Windows%20Server%202022%E9%85%8D%E7%BD%AEWeb%E6%9C%8D%E5%8A%A1%E5%99%A8(IIS+php5.6+MySQL)%E7%AC%94%E8%AE%B0/"/>
      <url>/undefined/Windows%20Server%202022%E9%85%8D%E7%BD%AEWeb%E6%9C%8D%E5%8A%A1%E5%99%A8(IIS+php5.6+MySQL)%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="中小企业网络构建笔记"><a href="#中小企业网络构建笔记" class="headerlink" title="中小企业网络构建笔记"></a>中小企业网络构建笔记</h1><h2 id="Windows-Server-2022配置Web服务器-IIS-php5-6-MySQL"><a href="#Windows-Server-2022配置Web服务器-IIS-php5-6-MySQL" class="headerlink" title="Windows Server 2022配置Web服务器(IIS+php5.6+MySQL)"></a>Windows Server 2022配置Web服务器(IIS+php5.6+MySQL)</h2><h3 id="配置IIS服务器"><a href="#配置IIS服务器" class="headerlink" title="配置IIS服务器"></a>配置IIS服务器</h3><p>打开VMware—文件—新建虚拟机–选择典型（推荐）–安装程序光盘映像文件(iso)–选择Server2022的镜像–安装Windows版本选择Windows Server 2022Datacenter–全名为Administrator–设置好虚拟机名称和存放的路径–最大磁盘大小选择1024 并选择将虚拟磁盘存储为单个文件–自定义硬件（内存选择4G，处理器数量1，内核数量2，虚拟化引擎选择：虚拟化Intel |VT-x&#x2F;EPT 或 AMD-V&#x2F;RVI（V））—下一步点完成等待系统安装完成进入桌面</p><img src=https://img01.kunkun888.us.kg/1.png><p>安装完系统后提示重启点击“是”等待重启完成 </p><p>win+r输入cmd输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net user Administrator 密码</span><br></pre></td></tr></table></figure><img src=https://img01.kunkun888.us.kg/11.png><p>在本地服务器中把远程桌面打开（允许远程连接到此计算机） 如下图</p><img src=https://img01.kunkun888.us.kg/2.png><img src=https://img01.kunkun888.us.kg/3.png><img src=https://img01.kunkun888.us.kg/4.png><p>在仪表板中选择添加角色和功能</p><img src=https://img01.kunkun888.us.kg/5.png>随后一直点击下一步到下一个步骤<p>在服务器角色中勾选web服务器  （然后选择下一步）</p><img src=https://img01.kunkun888.us.kg/5.png><p>弹出提示后点击添加功能，随后一直点击下一步到Web服务角色(IIS)下的角色服务，安全性（全勾）—常见HTTP功能（勾选HTTP重定向）–性能默认–运行状况和诊断（勾选HTTP日志记录、日志记录工具、自定义日志）–应用程序开发（勾选NET3.5、4.8、ASP.NET3.5、4.8、CGI\ISAPI扩展、ISAPI筛选器）–FTP服务器（全勾选）–管理工具默认</p><img src=https://img01.kunkun888.us.kg/6.png><p>等待安装完成!<img src=https://img01.kunkun888.us.kg/7.png></p><p>然后虚拟机win+r 输入cmd回车，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipconfig</span><br></pre></td></tr></table></figure><p>获取ip，然后在物理机打开浏览器在地址栏输入虚拟机的IP访问（即物理机在浏览器能访问虚拟机的ip即为安装成功）</p><img src=https://img01.kunkun888.us.kg/8.png><hr><h3 id="配置PHP"><a href="#配置PHP" class="headerlink" title="配置PHP"></a>配置PHP</h3><h5 id="1、先安装vcredist-x6-—勾选我同意、点击安装"><a href="#1、先安装vcredist-x6-—勾选我同意、点击安装" class="headerlink" title="1、先安装vcredist_x6 —勾选我同意、点击安装"></a>1、先安装vcredist_x6 —勾选我同意、点击安装</h5><img src=https://img01.kunkun888.us.kg/9.png><p>安装完后点击关闭。</p><img src=https://img01.kunkun888.us.kg/10.png><h5 id="2、修改php配置文件"><a href="#2、修改php配置文件" class="headerlink" title="2、修改php配置文件"></a>2、修改php配置文件</h5><p>在C盘创建文件夹，命名为php，把材料文件夹<code>php-5.6.31-nts-Win32-VC11-x64</code>放入php文件夹中，并另外在php文件夹中创建一个叫phptemp的文件夹</p><img src=https://img01.kunkun888.us.kg/12.png><p><code>在php-5.6.31-nts-Win32-VC11-x64中查找php.ini-environment把它拉出来并把-environment去掉</code></p><p>用VS Code打开php.ini</p><p>2.1 在php.ini按ctrl+F查找extension_dir：在c盘查找php文件把ext文件复制到extension_dir这边，” \ “改成“ &#x2F; ”<img src="https://img01.kunkun888.us.kg/13.png" alt="13"></p><p>2.2 查找date.timezone 设置为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date.timezone = asia/shanghai</span><br></pre></td></tr></table></figure><img src=https://img01.kunkun888.us.kg/14.png><p>2.3 查找<code>extension=php</code>:开启：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">extension=php_curl.dll</span><br><span class="line"></span><br><span class="line">extension=php_gd2.dll</span><br><span class="line"></span><br><span class="line">extension=php_mbstring.dll</span><br><span class="line"></span><br><span class="line">extension=php_mysql.dll</span><br><span class="line"></span><br><span class="line">extension=php_mysqli.dll</span><br><span class="line"></span><br><span class="line">extension=php_openssl.dll</span><br><span class="line"></span><br><span class="line">extension=php_pdo_mysql.dll</span><br><span class="line"></span><br><span class="line">extension=php_pdo_sqlite.dll</span><br></pre></td></tr></table></figure><img src=https://img01.kunkun888.us.kg/15.png><p>2.4 查找<code>session.save_path</code>，并进入C盘文件夹中的php文件夹中的phptemp文件夹，复制路径，粘贴到<code>session.save_path</code>&#x3D;的后面（注意：” \ “改成“ &#x2F; ”）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.save_path=&quot;C:/php/phptemp&quot;</span><br></pre></td></tr></table></figure><img src=https://img01.kunkun888.us.kg/16.png><p>2.5 查找post_max_size 改成 20M</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_max_size = 20M</span><br></pre></td></tr></table></figure><img src=https://img01.kunkun888.us.kg/17.png><p>2.6 查找upload_max_filesize  改成 20M</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">upload_max_filesize = 20M</span><br></pre></td></tr></table></figure><img src=https://img01.kunkun888.us.kg/18.png><p>2.7 把修改好的php.iniphp-5.6.31-nts-Win32-VC11-x64中放在里面<img src="https://img01.kunkun888.us.kg/19.png" alt="19"></p><h5 id="3、服务器管理器"><a href="#3、服务器管理器" class="headerlink" title="3、服务器管理器"></a>3、服务器管理器</h5><p>3.1 在服务器管理器右上角<code>工具</code>–IIS</p><img src=https://img01.kunkun888.us.kg/20.png><p>3.2：点击左边WIN开头–在右边找到处理程序映射</p><img src=https://img01.kunkun888.us.kg/21.png><p>3.3：添加模块映射</p><p>请求路径：*.php</p><p>模块：FastCgiModule</p><p>可执行行文件：C:\php\php-5.6.31-nts-Win32-VC11-x64\php-cgi.exe <code>把（*.dll)改成（ *.exe) 选php-cgi.exe</code></p><p>名称：随意（此处设置为php56）</p><p>随后点击确定，并点击”是”</p><img src=https://img01.kunkun888.us.kg/22.png><h5 id="4、检测"><a href="#4、检测" class="headerlink" title="4、检测"></a>4、检测</h5><p>创建一个1.php，文件内容写： <code>&lt;?php phpinfo();?&gt;</code></p><p>复制文件到c盘中的inetpub文件夹中的wwwroot</p><img src=https://img01.kunkun888.us.kg/23.png><p>在浏览器中输入：虚拟机的ip&#x2F;1.php有显示内容就是成功了</p><img src=https://img01.kunkun888.us.kg/24.png><hr><h3 id="安装MySQL和Navicat"><a href="#安装MySQL和Navicat" class="headerlink" title="安装MySQL和Navicat"></a>安装MySQL和Navicat</h3><h5 id="1、下载好MySQL-install-workbench并安装"><a href="#1、下载好MySQL-install-workbench并安装" class="headerlink" title="1、下载好MySQL-install-workbench并安装"></a>1、下载好MySQL-install-workbench并安装</h5><p>安装步骤：</p><p>1.1 打开安装MySQL安装程序，选择full(全部安装)，点击Next下一步—点击<code>Execute</code>开始安装，期间弹出的安装程序都选择<code>勾选已阅读并接受条款，安装</code>。一直点Next下一步和点击<code>Execute</code>安装</p><img src=https://img01.kunkun888.us.kg/25.png><p>1.2 安装完后在<code>Accounts and Roles</code>处设置MySQL数据库的密码(123456)，然后点击一直点击Next和<code>Execute</code> 至此MySQL安装完毕</p><img src=https://img01.kunkun888.us.kg/26.png><img src=https://img01.kunkun888.us.kg/27.png><p>1.3、连接数据库 ——在Password输入数据库的密码(123456)点击Check，点击Next</p><img src=https://img01.kunkun888.us.kg/28.png><p>随后一直点击Next，和<code>Execute</code></p><h5 id="2、下载好Navicat并安装。-打开Navicat安装程序，并一直下一步，一切都是默认。"><a href="#2、下载好Navicat并安装。-打开Navicat安装程序，并一直下一步，一切都是默认。" class="headerlink" title="2、下载好Navicat并安装。   打开Navicat安装程序，并一直下一步，一切都是默认。"></a>2、下载好Navicat并安装。   打开Navicat安装程序，并一直下一步，一切都是默认。</h5><h5 id="3、打开Navicat，连接MySQL（连接名称随意，密码填数据库的密码123456）点击确定"><a href="#3、打开Navicat，连接MySQL（连接名称随意，密码填数据库的密码123456）点击确定" class="headerlink" title="3、打开Navicat，连接MySQL（连接名称随意，密码填数据库的密码123456）点击确定"></a>3、打开Navicat，连接MySQL（连接名称随意，密码填数据库的密码123456）点击确定</h5><img src=https://img01.kunkun888.us.kg/29.png><p>3.1 把材料<code>测试网页的三个文件</code>放在C盘的inetpub中的wwwroot</p><img src=https://img01.kunkun888.us.kg/30.png><p>3.2 右键数据库，选择运行SQL文件!<img src=https://img01.kunkun888.us.kg/32.png></p><p>3.3 文件选择C:\inetpub\wwwroot文件夹中的data.sql点击运行，然后关闭(如果点到两次显示报错是因为已经存在该文件)</p><p><img src="https://img01.kunkun888.us.kg/33.png" alt="33"></p><p>3.4 测试：在浏览器地址栏中输入：ip&#x2F;index.php!<img src=https://img01.kunkun888.us.kg/34.png></p><img src=https://img01.kunkun888.us.kg/35.png><p>至此，Windows Server 2022配置Web服务器(IIS+php5.6+MySQL)安装完毕</p><hr>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
